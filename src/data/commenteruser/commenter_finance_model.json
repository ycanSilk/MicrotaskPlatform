{
  "modelVersion": "1.0.0",
  "description": "è¯„è®ºå‘˜æ”¶ç›Šç³»ç»Ÿå’Œé‚€è¯·ç³»ç»Ÿæ•°æ®æ¨¡å‹",
  "lastUpdated": "2024-01-16",
  
  "commenterAccounts": {
    "description": "è¯„è®ºå‘˜è´¦æˆ·ä¿¡æ¯",
    "data": [
      {
        "userId": "com001",
        "availableBalance": 125.80,
        "frozenBalance": 10.00,
        "totalEarnings": 235.80,
        "completedTasks": 45,
        "lastUpdated": "2024-01-15T18:30:00Z",
        "inviteCode": "CM001",
        "totalInvited": 5
      },
      {
        "userId": "com002",
        "availableBalance": 68.50,
        "frozenBalance": 0,
        "totalEarnings": 120.30,
        "completedTasks": 23,
        "lastUpdated": "2024-01-15T16:45:00Z",
        "inviteCode": "CM002",
        "totalInvited": 2,
        "referrerId": "com001"
      },
      {
        "userId": "com003",
        "availableBalance": 89.20,
        "frozenBalance": 0,
        "totalEarnings": 158.70,
        "completedTasks": 15,
        "lastUpdated": "2024-01-15T14:20:00Z",
        "inviteCode": "CM003",
        "totalInvited": 1,
        "referrerId": "com001"
      }
    ],
    "indexes": ["userId", "inviteCode", "referrerId"]
  },
  
  "earningsRecords": {
    "description": "è¯„è®ºå‘˜æ”¶ç›Šè®°å½•",
    "data": [
      {
        "id": "er001",
        "userId": "com001",
        "taskId": "task001",
        "taskName": "ç¾é£Ÿæ¢åº—æ¨å¹¿",
        "amount": 15.80,
        "status": "completed",
        "earnedTime": "2024-01-15T14:30:00Z",
        "description": "å®Œæˆç¾é£Ÿæ¢åº—è¯„è®ºä»»åŠ¡"
      },
      {
        "id": "er002",
        "userId": "com001",
        "taskId": "task002",
        "taskName": "æŠ¤è‚¤äº§å“ä½“éªŒ",
        "amount": 12.50,
        "status": "completed",
        "earnedTime": "2024-01-15T10:20:00Z",
        "description": "å®ŒæˆæŠ¤è‚¤äº§å“è¯„è®ºä»»åŠ¡"
      },
      {
        "id": "er003",
        "userId": "com001",
        "taskId": "invite_bonus",
        "taskName": "é‚€è¯·å¥½å‹å¥–åŠ±",
        "amount": 5.00,
        "status": "completed",
        "earnedTime": "2024-01-14T16:45:00Z",
        "description": "é‚€è¯·ç”¨æˆ·com004æ³¨å†Œå¹¶å®Œæˆé¦–å•ä»»åŠ¡"
      }
    ],
    "indexes": ["userId", "taskId", "earnedTime"],
    "relationships": {
      "userId": {"model": "commenterAccounts", "field": "userId"}
    }
  },
  
  "withdrawalRecords": {
    "description": "è¯„è®ºå‘˜æç°è®°å½•",
    "data": [
      {
        "id": "wd001",
        "userId": "com001",
        "amount": 50.00,
        "fee": 2.00,
        "totalAmount": 52.00,
        "method": "wechat",
        "status": "completed",
        "requestTime": "2024-01-10T10:15:00Z",
        "completeTime": "2024-01-10T14:30:00Z",
        "description": "å¾®ä¿¡æç°"
      },
      {
        "id": "wd002",
        "userId": "com001",
        "amount": 30.00,
        "fee": 2.00,
        "totalAmount": 32.00,
        "method": "alipay",
        "status": "pending",
        "requestTime": "2024-01-15T09:30:00Z",
        "completeTime": null,
        "description": "æ”¯ä»˜å®æç°"
      },
      {
        "id": "wd003",
        "userId": "com002",
        "amount": 20.00,
        "fee": 2.00,
        "totalAmount": 22.00,
        "method": "wechat",
        "status": "completed",
        "requestTime": "2024-01-12T16:45:00Z",
        "completeTime": "2024-01-12T18:20:00Z",
        "description": "å¾®ä¿¡æç°"
      }
    ],
    "indexes": ["userId", "status", "requestTime"],
    "relationships": {
      "userId": {"model": "commenterAccounts", "field": "userId"}
    }
  },
  
  "teamMembers": {
    "description": "è¯„è®ºå‘˜å›¢é˜Ÿæˆå‘˜ä¿¡æ¯",
    "data": [
      {
        "id": 1,
        "userId": "com002",
        "inviterId": "com001",
        "nickname": "å°ç‹",
        "avatar": "ğŸ‘¨",
        "joinDate": "2024-01-10",
        "status": "æ´»è·ƒ",
        "statusColor": "text-green-600",
        "completedTasks": 23,
        "totalEarnings": 127.50,
        "myCommission": 6.38,
        "level": "Lv.2 è¯„è®ºå‘˜"
      },
      {
        "id": 2,
        "userId": "com003",
        "inviterId": "com001",
        "nickname": "å°æ",
        "avatar": "ğŸ‘©",
        "joinDate": "2024-01-12",
        "status": "æ´»è·ƒ",
        "statusColor": "text-green-600",
        "completedTasks": 15,
        "totalEarnings": 89.20,
        "myCommission": 4.46,
        "level": "Lv.1 è¯„è®ºå‘˜"
      },
      {
        "id": 3,
        "userId": "com004",
        "inviterId": "com001",
        "nickname": "å°å¼ ",
        "avatar": "ğŸ§‘",
        "joinDate": "2024-01-14",
        "status": "æ–°æ‰‹",
        "statusColor": "text-orange-600",
        "completedTasks": 3,
        "totalEarnings": 15.60,
        "myCommission": 0.78,
        "level": "æ–°æ‰‹è¯„è®ºå‘˜"
      }
    ],
    "indexes": ["inviterId", "userId", "status"],
    "relationships": {
      "inviterId": {"model": "commenterAccounts", "field": "userId"},
      "userId": {"model": "commenterAccounts", "field": "userId"}
    }
  },
  
  "commissionHistory": {
    "description": "è¯„è®ºå‘˜ä½£é‡‘æ˜ç»†è®°å½•",
    "data": [
      {
        "id": 1,
        "inviterId": "com001",
        "memberId": "com002",
        "memberName": "å°ç‹",
        "taskId": "task003",
        "taskName": "ç§‘æŠ€äº§å“è¯„æµ‹",
        "taskEarning": 20.80,
        "commission": 1.04,
        "date": "2024-01-15 09:15",
        "type": "task",
        "status": "completed"
      },
      {
        "id": 2,
        "inviterId": "com001",
        "memberId": "com003",
        "memberName": "å°æ",
        "taskId": "task004",
        "taskName": "æ—…æ¸¸ä½“éªŒåˆ†äº«",
        "taskEarning": 18.60,
        "commission": 0.93,
        "date": "2024-01-14 15:30",
        "type": "task",
        "status": "completed"
      },
      {
        "id": 3,
        "inviterId": "com001",
        "memberId": "com004",
        "memberName": "å°å¼ ",
        "taskId": "register_bonus",
        "taskName": "æ³¨å†Œå®Œæˆå¥–åŠ±",
        "taskEarning": 0,
        "commission": 5.00,
        "date": "2024-01-14 16:45",
        "type": "register",
        "status": "completed"
      }
    ],
    "indexes": ["inviterId", "memberId", "date", "type"],
    "relationships": {
      "inviterId": {"model": "commenterAccounts", "field": "userId"},
      "memberId": {"model": "commenterAccounts", "field": "userId"}
    }
  },
  
  "configuration": {
    "withdrawal": {
      "minAmount": 10.00,
      "maxAmount": 2000.00,
      "fee": 2.00,
      "dailyLimit": 3
    },
    "commission": {
      "taskRate": 0.05,
      "registerBonus": 5.00
    }
  },
  
  "associationQueries": {
    "description": "æ”¯æŒçš„å…³è”æŸ¥è¯¢ç¤ºä¾‹",
    "examples": [
      {
        "name": "è·å–ç”¨æˆ·å®Œæ•´è´¢åŠ¡ä¿¡æ¯",
        "query": "SELECT * FROM commenterAccounts JOIN earningsRecords ON commenterAccounts.userId = earningsRecords.userId JOIN withdrawalRecords ON commenterAccounts.userId = withdrawalRecords.userId WHERE commenterAccounts.userId = ?",
        "params": ["userId"]
      },
      {
        "name": "è·å–ç”¨æˆ·å›¢é˜Ÿä¿¡æ¯åŠä½£é‡‘ç»Ÿè®¡",
        "query": "SELECT commenterAccounts.*, teamMembers.*, SUM(commissionHistory.commission) as totalCommission FROM commenterAccounts LEFT JOIN teamMembers ON commenterAccounts.userId = teamMembers.inviterId LEFT JOIN commissionHistory ON commenterAccounts.userId = commissionHistory.inviterId GROUP BY commenterAccounts.userId, teamMembers.id",
        "params": []
      },
      {
        "name": "è·å–æŒ‡å®šæ—¥æœŸèŒƒå›´å†…çš„ä½£é‡‘æ˜ç»†",
        "query": "SELECT * FROM commissionHistory WHERE inviterId = ? AND date BETWEEN ? AND ?",
        "params": ["inviterId", "startDate", "endDate"]
      }
    ]
  }
}